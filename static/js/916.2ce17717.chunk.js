"use strict";(self.webpackChunkportfolio_3d=self.webpackChunkportfolio_3d||[]).push([[916],{916:(o,e,a)=>{a.r(e),a.d(e,{default:()=>t});var n=a(43),r=a(519),c=a(355),l=a(579);const s=n.memo(o=>{let{scale:e=1,position:a=[0,0,0],animationType:s="marche",onAnimationChange:t,onError:i}=o;const b=(0,n.useRef)(),h=(0,n.useMemo)(()=>"/".concat({marche:"marche en ronde.glb",bonjour:"bonjour.glb",rumba:"rumba.glb",hiphop:"hiphop.glb"}[s]||"marche en ronde.glb"),[s]);console.log("\ud83c\udfac Loading avatar model:",h,"for animation:",s);const m=(0,r.p)(h),{actions:p}=(0,c.f)(m.animations,m.scene);return(0,n.useEffect)(()=>{if(console.log("\ud83c\udfaf Actions available:",p?Object.keys(p):"none"),p)try{Object.values(p).forEach(o=>{o&&o.stop()}),Object.keys(p).forEach(o=>{const e=p[o];e&&(console.log("\u25b6\ufe0f Playing animation:",o),e.reset().fadeIn(.5).play(),e.timeScale="marche"===s?1.2:1)})}catch(o){console.error("\u274c Animation error:",o),i&&i(o)}},[p,s,i]),(0,n.useEffect)(()=>()=>{p&&Object.values(p).forEach(o=>{o&&o.stop()})},[p]),m&&m.scene?(console.log("\u2705 Avatar loaded successfully:",h),(0,l.jsx)("group",{ref:b,children:(0,l.jsx)("primitive",{object:m.scene,scale:e,position:a})})):(console.error("\u274c Avatar loading error: No scene available for",h),i&&i(new Error("Failed to load avatar model")),null)});["marche en ronde.glb","bonjour.glb","rumba.glb","hiphop.glb"].forEach(o=>{const e="/".concat(o);console.log("\ud83d\udd04 Preloading:",e),r.p.preload(e)});const t=s}}]);
//# sourceMappingURL=916.2ce17717.chunk.js.map