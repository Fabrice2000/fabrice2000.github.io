"use strict";(self.webpackChunkportfolio_3d=self.webpackChunkportfolio_3d||[]).push([[916],{916:(e,o,t)=>{t.r(o),t.d(o,{default:()=>i});var a=t(43),n=t(519),r=t(355),s=t(579);const c=a.memo(e=>{let{scale:o=1,position:t=[0,0,0],animationType:c="marche",onAnimationChange:i}=e;const[l,m]=(0,a.useState)(!1),p=(0,a.useRef)(),u=(0,a.useMemo)(()=>({marche:"marche en ronde.glb",bonjour:"bonjour.glb",rumba:"rumba.glb",hiphop:"hiphop.glb"}),[]),h=(0,a.useMemo)(()=>{const e=u[c]||u.marche;return"/portfolio-3d/".concat(e)},[c,u]),{scene:b,animations:f}=(0,n.p)(h),{actions:d}=(0,r.f)(f,b),g=(0,a.useCallback)(()=>{i&&setTimeout(()=>i("marche"),1e3)},[i]);return(0,a.useEffect)(()=>{m(!0);const e=setTimeout(()=>{Object.values(d).forEach(e=>{e&&e.stop().reset()}),console.log("\ud83c\udfad Chargement animation: ".concat(c),Object.keys(d)),Object.keys(d).forEach(e=>{const o=d[e];o&&("bonjour"===c?(o.reset().setLoop(2200,1).fadeIn(.3).play(),o.timeScale=1,o.getMixer().addEventListener("finished",g)):"marche"===c?(o.reset().setLoop(2201,1).fadeIn(.3).play(),o.timeScale=1.2):(o.reset().setLoop(2201,1).fadeIn(.3).play(),o.timeScale=1))}),m(!1)},200);return()=>clearTimeout(e)},[d,c,i]),(0,s.jsx)("group",{ref:p,visible:!l,children:(0,s.jsx)("primitive",{object:b,scale:o,position:t})})});["marche en ronde.glb","bonjour.glb","marche.glb"].forEach(e=>{const o="/portfolio-3d/".concat(e);n.p.preload(o)});const i=c}}]);
//# sourceMappingURL=916.ff785b7e.chunk.js.map