"use strict";(self.webpackChunkportfolio_3d=self.webpackChunkportfolio_3d||[]).push([[916,984],{916:(e,a,o)=>{o.r(a),o.d(a,{default:()=>r});var n=o(43),s=o(519),t=o(355),i=o(579);const l=n.memo(e=>{let{scale:a=1,position:o=[0,0,0],animationType:l="marche",onAnimationChange:r,onError:c}=e;const d=(0,n.useRef)(),h=(0,n.useMemo)(()=>"/".concat({marche:"marche en ronde.glb",bonjour:"bonjour.glb",rumba:"rumba.glb",hiphop:"hiphop.glb"}[l]||"marche en ronde.glb"),[l]);console.log("\ud83c\udfac Loading avatar model:",h,"for animation:",l);const m=(0,s.p)(h),{actions:p}=(0,t.f)(m.animations,m.scene);return(0,n.useEffect)(()=>{if(console.log("\ud83c\udfaf Actions available:",p?Object.keys(p):"none"),p)try{Object.values(p).forEach(e=>{e&&e.stop()}),Object.keys(p).forEach(e=>{const a=p[e];a&&(console.log("\u25b6\ufe0f Playing animation:",e),a.reset().fadeIn(.5).play(),a.timeScale="marche"===l?1.2:1)})}catch(e){console.error("\u274c Animation error:",e),c&&c(e)}},[p,l,c]),(0,n.useEffect)(()=>()=>{p&&Object.values(p).forEach(e=>{e&&e.stop()})},[p]),m&&m.scene?(console.log("\u2705 Avatar loaded successfully:",h),(0,i.jsx)("group",{ref:d,children:(0,i.jsx)("primitive",{object:m.scene,scale:a,position:o})})):(console.error("\u274c Avatar loading error: No scene available for",h),c&&c(new Error("Failed to load avatar model")),null)});["marche en ronde.glb","bonjour.glb","rumba.glb","hiphop.glb"].forEach(e=>{const a="/".concat(e);console.log("\ud83d\udd04 Preloading:",a),s.p.preload(a)});const r=l},984:(e,a,o)=>{o.r(a),o.d(a,{default:()=>h});var n=o(43),s=o(985),t=o(519),i=o(355),l=o(916),r=o(579);const c="/ouvertureavatar.glb";t.p.preload(c);const d=e=>{let{scale:a=2,position:o=[0,-1.2,0]}=e;const s=(0,t.p)(c),{actions:d}=(0,i.f)(s.animations,s.scene);return(0,n.useEffect)(()=>{if(d){const e=Object.keys(d);if(e.length>0){const a=d[e[0]];a.reset(),a.setLoop(!0,1/0),a.timeScale=1.2,a.play()}}return()=>{d&&Object.values(d).forEach(e=>e.stop())}},[d]),null!==s&&void 0!==s&&s.scene?(0,r.jsx)("primitive",{object:s.scene,scale:a,position:o}):(0,r.jsx)("group",{position:o,scale:a,children:(0,r.jsx)(l.default,{})})};t.p.preload(c);const h=e=>{let{onIntroComplete:a}=e;const[o]=(0,n.useState)("Chargement"),[t,i]=(0,n.useState)(0);return(0,n.useEffect)(()=>{const e=setInterval(()=>{i(o=>o>=100?(clearInterval(e),setTimeout(a,300),100):o+8)},130);return()=>{clearInterval(e)}},[a]),(0,r.jsxs)("div",{className:"intro-page",children:[(0,r.jsx)("div",{className:"intro-background",children:(0,r.jsx)("div",{className:"floating-particles",children:[...Array(12)].map((e,a)=>(0,r.jsx)("div",{className:"particle",style:{left:"".concat(100*Math.random(),"%"),animationDelay:"".concat(2*Math.random(),"s"),animationDuration:"".concat(3+2*Math.random(),"s")}},a))})}),(0,r.jsx)("div",{className:"intro-avatar-container",children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{className:"loading-avatar"}),children:(0,r.jsxs)(s.Hl,{camera:{position:[0,4,10],fov:85},style:{width:"100%",height:"50vh"},children:[(0,r.jsx)("ambientLight",{intensity:1.5}),(0,r.jsx)("directionalLight",{position:[5,10,5],intensity:2,color:"#ffffff"}),(0,r.jsx)("pointLight",{position:[-5,5,5],intensity:1.5,color:"#64b5f6"}),(0,r.jsx)(d,{scale:3,position:[0,-.2,-1.5]})]})})}),(0,r.jsxs)("div",{className:"intro-content",children:[(0,r.jsx)("h1",{className:"intro-title",children:"Bonjour !"}),(0,r.jsx)("h2",{className:"intro-subtitle",children:"Je suis Fabrice KOUADJEU"}),(0,r.jsx)("p",{className:"intro-description",children:"Soyez le bienvenu dans mon univers."}),(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsxs)("div",{className:"loading-bar",children:[(0,r.jsx)("div",{className:"loading-fill",style:{width:"".concat(t,"%")}}),(0,r.jsx)("div",{className:"loading-glow"})]}),(0,r.jsx)("p",{className:"loading-text",children:o}),(0,r.jsxs)("p",{className:"loading-percentage",children:[Math.round(t),"%"]})]})]})]})}}}]);
//# sourceMappingURL=984.ff16bb76.chunk.js.map