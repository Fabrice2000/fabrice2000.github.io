"use strict";(self.webpackChunkportfolio_3d=self.webpackChunkportfolio_3d||[]).push([[916],{916:(e,o,t)=>{t.r(o),t.d(o,{default:()=>i});var a=t(43),r=t(519),s=t(355),n=t(579);const c=a.memo(e=>{let{scale:o=1,position:t=[0,0,0],animationType:c="marche",onAnimationChange:i}=e;const[l,p]=(0,a.useState)(!1),u=(0,a.useRef)(),m=(0,a.useMemo)(()=>({marche:"marche en ronde.glb",bonjour:"bonjour.glb",rumba:"rumba.glb",hiphop:"hiphop.glb"}),[]),h=(0,a.useMemo)(()=>{const e=m[c]||m.marche;return"/portfolio-3d/".concat(e)},[c,m]),{scene:b,animations:f}=(0,r.p)(h),{actions:d}=(0,s.f)(f,b),g=(0,a.useCallback)(()=>{i&&setTimeout(()=>i("marche"),1e3)},[i]);return(0,a.useEffect)(()=>{p(!0);const e=setTimeout(()=>{Object.values(d).forEach(e=>{e&&e.stop().reset()}),Object.keys(d).forEach(e=>{const o=d[e];o&&("bonjour"===c?(o.reset().setLoop(2200,1).fadeIn(.3).play(),o.timeScale=1,o.getMixer().addEventListener("finished",g)):"marche"===c?(o.reset().setLoop(2201,1).fadeIn(.3).play(),o.timeScale=1.2):(o.reset().setLoop(2201,1).fadeIn(.3).play(),o.timeScale=1))}),p(!1)},200);return()=>clearTimeout(e)},[d,c,i]),(0,n.jsx)("group",{ref:u,visible:!l,children:(0,n.jsx)("primitive",{object:b,scale:o,position:t})})});["marche en ronde.glb","bonjour.glb","marche.glb"].forEach(e=>{const o="/portfolio-3d/".concat(e);r.p.preload(o)});const i=c}}]);
//# sourceMappingURL=916.f8cfb4c9.chunk.js.map