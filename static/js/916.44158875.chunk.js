"use strict";(self.webpackChunkportfolio_3d=self.webpackChunkportfolio_3d||[]).push([[916],{916:(o,e,a)=>{a.r(e),a.d(e,{default:()=>s});var n=a(43),r=a(519),l=a(355),c=a(579);const t=n.memo(o=>{let{scale:e=1,position:a=[0,0,0],animationType:t="marche",onAnimationChange:s,onError:i}=o;const b=(0,n.useRef)(),p=(0,n.useMemo)(()=>"/portfolio-3d/".concat({marche:"marche en ronde.glb",bonjour:"bonjour.glb",rumba:"rumba.glb",hiphop:"hiphop.glb"}[t]||"marche en ronde.glb"),[t]);console.log("\ud83c\udfac Loading avatar model:",p,"for animation:",t);const f=(0,r.p)(p),{actions:h}=(0,l.f)(f.animations,f.scene);return(0,n.useEffect)(()=>{if(console.log("\ud83c\udfaf Actions available:",h?Object.keys(h):"none"),h)try{Object.values(h).forEach(o=>{o&&o.stop()}),Object.keys(h).forEach(o=>{const e=h[o];e&&(console.log("\u25b6\ufe0f Playing animation:",o),e.reset().fadeIn(.5).play(),e.timeScale="marche"===t?1.2:1)})}catch(o){console.error("\u274c Animation error:",o),i&&i(o)}},[h,t,i]),(0,n.useEffect)(()=>()=>{h&&Object.values(h).forEach(o=>{o&&o.stop()})},[h]),f&&f.scene?(console.log("\u2705 Avatar loaded successfully:",p),(0,c.jsx)("group",{ref:b,children:(0,c.jsx)("primitive",{object:f.scene,scale:e,position:a})})):(console.error("\u274c Avatar loading error: No scene available for",p),i&&i(new Error("Failed to load avatar model")),null)});["marche en ronde.glb","bonjour.glb","rumba.glb","hiphop.glb"].forEach(o=>{const e="/portfolio-3d/".concat(o);console.log("\ud83d\udd04 Preloading:",e),r.p.preload(e)});const s=t}}]);
//# sourceMappingURL=916.44158875.chunk.js.map