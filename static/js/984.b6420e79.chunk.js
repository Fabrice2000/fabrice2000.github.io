"use strict";(self.webpackChunkportfolio_3d=self.webpackChunkportfolio_3d||[]).push([[916,984],{916:(e,o,a)=>{a.r(o),a.d(o,{default:()=>r});var n=a(43),s=a(519),t=a(355),i=a(579);const l=n.memo(e=>{let{scale:o=1,position:a=[0,0,0],animationType:l="marche",onAnimationChange:r,onError:c}=e;const d=(0,n.useRef)(),h=(0,n.useMemo)(()=>"/portfolio-3d/".concat({marche:"marche en ronde.glb",bonjour:"bonjour.glb",rumba:"rumba.glb",hiphop:"hiphop.glb"}[l]||"marche en ronde.glb"),[l]);console.log("\ud83c\udfac Loading avatar model:",h,"for animation:",l);const p=(0,s.p)(h),{actions:m}=(0,t.f)(p.animations,p.scene);return(0,n.useEffect)(()=>{if(console.log("\ud83c\udfaf Actions available:",m?Object.keys(m):"none"),m)try{Object.values(m).forEach(e=>{e&&e.stop()}),Object.keys(m).forEach(e=>{const o=m[e];o&&(console.log("\u25b6\ufe0f Playing animation:",e),o.reset().fadeIn(.5).play(),o.timeScale="marche"===l?1.2:1)})}catch(e){console.error("\u274c Animation error:",e),c&&c(e)}},[m,l,c]),(0,n.useEffect)(()=>()=>{m&&Object.values(m).forEach(e=>{e&&e.stop()})},[m]),p&&p.scene?(console.log("\u2705 Avatar loaded successfully:",h),(0,i.jsx)("group",{ref:d,children:(0,i.jsx)("primitive",{object:p.scene,scale:o,position:a})})):(console.error("\u274c Avatar loading error: No scene available for",h),c&&c(new Error("Failed to load avatar model")),null)});["marche en ronde.glb","bonjour.glb","rumba.glb","hiphop.glb"].forEach(e=>{const o="/portfolio-3d/".concat(e);console.log("\ud83d\udd04 Preloading:",o),s.p.preload(o)});const r=l},984:(e,o,a)=>{a.r(o),a.d(o,{default:()=>h});var n=a(43),s=a(985),t=a(519),i=a(355),l=a(916),r=a(579);const c="/portfolio-3d/ouvertureavatar.glb";t.p.preload(c);const d=e=>{let{scale:o=2,position:a=[0,-1.2,0]}=e;const s=(0,t.p)(c),{actions:d}=(0,i.f)(s.animations,s.scene);return(0,n.useEffect)(()=>{if(d){const e=Object.keys(d);if(e.length>0){const o=d[e[0]];o.reset(),o.setLoop(!0,1/0),o.timeScale=1.2,o.play()}}return()=>{d&&Object.values(d).forEach(e=>e.stop())}},[d]),null!==s&&void 0!==s&&s.scene?(0,r.jsx)("primitive",{object:s.scene,scale:o,position:a}):(0,r.jsx)("group",{position:a,scale:o,children:(0,r.jsx)(l.default,{})})};t.p.preload(c);const h=e=>{let{onIntroComplete:o}=e;const[a]=(0,n.useState)("Chargement"),[t,i]=(0,n.useState)(0);return(0,n.useEffect)(()=>{const e=setInterval(()=>{i(a=>a>=100?(clearInterval(e),setTimeout(o,300),100):a+8)},130);return()=>{clearInterval(e)}},[o]),(0,r.jsxs)("div",{className:"intro-page",children:[(0,r.jsx)("div",{className:"intro-background",children:(0,r.jsx)("div",{className:"floating-particles",children:[...Array(12)].map((e,o)=>(0,r.jsx)("div",{className:"particle",style:{left:"".concat(100*Math.random(),"%"),animationDelay:"".concat(2*Math.random(),"s"),animationDuration:"".concat(3+2*Math.random(),"s")}},o))})}),(0,r.jsx)("div",{className:"intro-avatar-container",children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{className:"loading-avatar"}),children:(0,r.jsxs)(s.Hl,{camera:{position:[0,4,10],fov:85},style:{width:"100%",height:"50vh"},children:[(0,r.jsx)("ambientLight",{intensity:1.5}),(0,r.jsx)("directionalLight",{position:[5,10,5],intensity:2,color:"#ffffff"}),(0,r.jsx)("pointLight",{position:[-5,5,5],intensity:1.5,color:"#64b5f6"}),(0,r.jsx)(d,{scale:3,position:[0,-.2,-1.5]})]})})}),(0,r.jsxs)("div",{className:"intro-content",children:[(0,r.jsx)("h1",{className:"intro-title",children:"Bonjour !"}),(0,r.jsx)("h2",{className:"intro-subtitle",children:"Je suis Fabrice KOUADJEU"}),(0,r.jsx)("p",{className:"intro-description",children:"Soyez le bienvenu dans mon univers."}),(0,r.jsxs)("div",{className:"loading-container",children:[(0,r.jsxs)("div",{className:"loading-bar",children:[(0,r.jsx)("div",{className:"loading-fill",style:{width:"".concat(t,"%")}}),(0,r.jsx)("div",{className:"loading-glow"})]}),(0,r.jsx)("p",{className:"loading-text",children:a}),(0,r.jsxs)("p",{className:"loading-percentage",children:[Math.round(t),"%"]})]})]})]})}}}]);
//# sourceMappingURL=984.b6420e79.chunk.js.map